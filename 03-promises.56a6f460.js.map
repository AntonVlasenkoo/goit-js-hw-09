{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SACgBC,SAASC,cAAc,SAC/BC,iBAAiB,UAGzB,SAAsBC,GACpBA,EAAEC,iBAEF,MAAMC,EAAWF,EAAEG,cACnB,IAAIC,EAAYC,OAAOH,EAAgB,MAAEI,OACzC,MAAMC,EAAWF,OAAOH,EAAe,KAAEI,OACnCE,EAAaH,OAAOH,EAAiB,OAAEI,OAE7CG,QAAQC,IAAIN,EAAWG,EAAUC,GAEjC,IAAK,IAAIG,EAAI,EAAGA,EAAIH,EAAYG,GAAK,EAAG,CACtC,IAAIC,EAAWD,EAAI,EACnBF,QAAQC,IAAIE,GAEZ,IAAIC,EAAQT,EAAYG,EAAWI,EACnCF,QAAQC,IAAIG,GACZC,EAAcF,EAAUC,GAAOE,KAAKC,GAAeC,MAAMC,E,KAK7D,MAAMJ,EAAgB,CAACF,EAAUC,IACxB,IAAIM,SAAQ,CAACC,EAASC,KACLC,KAAKC,SAAW,GAEpCH,EAAQ,C,SAAER,E,MAAUC,IAEpBQ,EAAO,C,SAAET,E,MAAUC,GAAQ,IAK3BG,EAAgB,EAACJ,SAAEA,EAAQC,MAAEA,MACjCW,YAAW,KACTC,EAAA9B,GAAS+B,OAAOC,QAAQ,sBAAsBf,QAAeC,MAAU,GACtEA,EAAM,EAGLK,EAAc,EAACN,SAAEA,EAAQC,MAAEA,MAC/BW,YAAW,KACTC,EAAA9B,GAAS+B,OAAOE,QAAQ,qBAAqBhB,QAAeC,MAAU,GACrEA,EAAM","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst formRef = document.querySelector('.form');\nformRef.addEventListener('submit', makePromises);\n\n//========================================================\nfunction makePromises(e) {\n  e.preventDefault();\n  //------------------------------------------------\n  const formData = e.currentTarget;\n  let delayData = Number(formData['delay'].value);\n  const stepData = Number(formData['step'].value);\n  const amountData = Number(formData['amount'].value);\n  //------------------------------------------------\n  console.log(delayData, stepData, amountData);\n\n  for (let i = 0; i < amountData; i += 1) {\n    let position = i + 1;\n    console.log(position);\n    //---------------------------------\n    let delay = delayData + stepData * i;\n    console.log(delay);\n    createPromise(position, delay).then(onMakeSuccess).catch(onMakeError);\n  }\n}\n\n//========================================================\nconst createPromise = (position, delay) => {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n};\n//------------------------------------------------\nconst onMakeSuccess = ({ position, delay }) => {\n  setTimeout(() => {\n    Notiflix.Notify.success(` Fulfilled promise ${position} in ${delay}ms`);\n  }, delay);\n};\n\nconst onMakeError = ({ position, delay }) => {\n  setTimeout(() => {\n    Notiflix.Notify.failure(` Rejected promise ${position} in ${delay}ms`);\n  }, delay);\n};\n//========================================================\n"],"names":["$7Y9D8","parcelRequire","document","querySelector","addEventListener","e","preventDefault","formData","currentTarget","delayData","Number","value","stepData","amountData","console","log","i","position","delay","$47d4ff9957288465$var$createPromise","then","$47d4ff9957288465$var$onMakeSuccess","catch","$47d4ff9957288465$var$onMakeError","Promise","resolve","reject","Math","random","setTimeout","$parcel$interopDefault","Notify","success","failure"],"version":3,"file":"03-promises.56a6f460.js.map"}