{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,SACgBC,SAASC,cAAc,SAC/BC,iBAAiB,UAGzB,SAAsBC,GACpBA,EAAEC,iBAEF,IAAMC,EAAWF,EAAEG,cACfC,EAAYC,OAAOH,EAAgB,MAAEI,OACnCC,EAAWF,OAAOH,EAAe,KAAEI,OACnCE,EAAaH,OAAOH,EAAiB,OAAEI,OAE7CG,QAAQC,IAAIN,EAAWG,EAAUC,GAEjC,IAAK,IAAIG,EAAI,EAAGA,EAAIH,EAAYG,GAAK,EAAG,CACtC,IAAIC,EAAWD,EAAI,EACnBF,QAAQC,IAAIE,GAEZ,IAAIC,EAAQT,EAAYG,EAAWI,EACnCF,QAAQC,IAAIG,GACZC,EAAcF,EAAUC,GAAOE,KAAKC,GAAeC,MAAMC,E,KAK7D,IAAMJ,EAAgB,SAACF,EAAUC,GAC/B,OAAO,IAAIM,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,GAEpCH,EAAQ,CAAER,WAAUC,UAEpBQ,EAAO,CAAET,WAAUC,S,KAKnBG,EAAgB,SAAAQ,G,IAAGZ,EAAQY,EAARZ,SAAUC,EAAKW,EAALX,MACjCY,YAAW,WACTC,EAAA/B,GAASgC,OAAOC,QAAQ,sBAAqCC,OAAfjB,EAAS,QAAYiB,OAANhB,EAAM,M,GAClEA,E,EAGCK,EAAc,SAAAM,G,IAAGZ,EAAQY,EAARZ,SAAUC,EAAKW,EAALX,MAC/BY,YAAW,WACTC,EAAA/B,GAASgC,OAAOG,QAAQ,qBAAoCD,OAAfjB,EAAS,QAAYiB,OAANhB,EAAM,M,GACjEA,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\nconst formRef = document.querySelector('.form');\nformRef.addEventListener('submit', makePromises);\n\n//========================================================\nfunction makePromises(e) {\n  e.preventDefault();\n  //------------------------------------------------\n  const formData = e.currentTarget;\n  let delayData = Number(formData['delay'].value);\n  const stepData = Number(formData['step'].value);\n  const amountData = Number(formData['amount'].value);\n  //------------------------------------------------\n  console.log(delayData, stepData, amountData);\n\n  for (let i = 0; i < amountData; i += 1) {\n    let position = i + 1;\n    console.log(position);\n    //---------------------------------\n    let delay = delayData + stepData * i;\n    console.log(delay);\n    createPromise(position, delay).then(onMakeSuccess).catch(onMakeError);\n  }\n}\n\n//========================================================\nconst createPromise = (position, delay) => {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n    if (shouldResolve) {\n      resolve({ position, delay });\n    } else {\n      reject({ position, delay });\n    }\n  });\n};\n//------------------------------------------------\nconst onMakeSuccess = ({ position, delay }) => {\n  setTimeout(() => {\n    Notiflix.Notify.success(` Fulfilled promise ${position} in ${delay}ms`);\n  }, delay);\n};\n\nconst onMakeError = ({ position, delay }) => {\n  setTimeout(() => {\n    Notiflix.Notify.failure(` Rejected promise ${position} in ${delay}ms`);\n  }, delay);\n};\n//========================================================\n"],"names":["$6JpON","parcelRequire","document","querySelector","addEventListener","e","preventDefault","formData","currentTarget","delayData","Number","value","stepData","amountData","console","log","i","position","delay","$ce04d3a99e08e73b$var$createPromise","then","$ce04d3a99e08e73b$var$onMakeSuccess","catch","$ce04d3a99e08e73b$var$onMakeError","Promise","resolve","reject","Math","random","param","setTimeout","$parcel$interopDefault","Notify","success","concat","failure"],"version":3,"file":"03-promises.151d0e54.js.map"}